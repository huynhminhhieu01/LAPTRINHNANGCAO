<!-- Bootstrap & Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
<link rel="icon" type="image/x-icon" href="/favicon.ico">

<header class="bg-success shadow-sm py-3">
  <div class="container d-flex justify-content-between align-items-center">

    <!-- Logo -->
    <a href="/" class="text-info fw-bold fs-4 text-decoration-none d-flex align-items-center">
      <img src="/images/logo.png" alt="Logo" style="height: 90px;" class="me-2">
      Shop Công Nghệ
    </a>

    <!-- Search -->
    <form class="d-flex flex-grow-1 mx-4" action="/search" method="GET">
      <input class="form-control rounded-start" type="search" name="keyword" placeholder="Bạn tìm gì...">
      <button class="btn btn-dark rounded-end" type="submit"><i class="bi bi-search"></i></button>
    </form>

    <!-- Account, Cart, Location -->
    <div class="d-flex align-items-center gap-3">
      <% if (user && user.fullName) { %>
        <span class="text-white">
          <i class="bi bi-person"></i> 
          Xin chào, <a href="/account" class="text-decoration-none"><%= user.fullName %></a>
        </span>
        <a class="btn btn-outline-dark btn-sm" href="/logout">Đăng xuất</a>
      <% } else { %>
        <a class="text-white text-decoration-none" href="/login"><i class="bi bi-person"></i> Đăng nhập</a>
      <% } %>

      <!-- Giỏ hàng -->
      <a class="text-white text-decoration-none position-relative" href="/cart">
        <i class="bi bi-cart-fill fs-5"></i> Giỏ hàng
        <% if (session.cart && session.cart.totalItems > 0) { %>
          <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
            <%= session.cart.totalItems %>
          </span>
        <% } %>
      </a>
    </div>
  </div>

  <!-- Sub menu -->
  <div class="container mt-2">
    <nav class="d-flex justify-content-between flex-wrap">
      <a href="/products/phones" class="text-white text-decoration-none"><i class="bi bi-phone"></i> Điện thoại</a>
      <a href="/products/laptops" class="text-white text-decoration-none"><i class="bi bi-laptop"></i> Laptop</a>
      <a href="/products/accessories" class="text-white text-decoration-none"><i class="bi bi-headphones"></i> Phụ kiện</a>
      <a href="/products/smartwatches" class="text-white text-decoration-none"><i class="bi bi-smartwatch"></i> Smartwatch</a>
      <a href="/products/watches" class="text-white text-decoration-none"><i class="bi bi-watch"></i> Đồng hồ</a>
      <a href="/products/tablets" class="text-white text-decoration-none"><i class="bi bi-tablet"></i> Tablet</a>
      <a href="/products/monitors" class="text-white text-decoration-none"><i class="bi bi-display"></i> Màn hình</a>
      <a href="/services" class="text-white text-decoration-none"><i class="bi bi-credit-card"></i> Dịch vụ</a>
    </nav>
  </div>
</header>
